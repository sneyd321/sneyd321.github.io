---
layout: page
title: Room Renting - Backend
description: Microservices backend hosted on Google Cloud Platform
img: assets/img/7.jpg
importance: 3
---

Room Renting follows a 4 tier cloud based architecture. At a high level the backend in compose of an application, query, service and infrastructure layer.

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.html path="assets/img/RoomRentingBackend_1.jpeg" title="example image" class="img-fluid rounded z-depth-1" %}
    </div>
</div>
<div class="caption">
    High Level Architecture of Room Renting Backend
</div>

### Application Layer
The front end is deployed as two distinct web applications that communicate with the same backend. This can be thought of like Uber who has both a rider and driver application that communicate with the same backend. The application layer consists of two Flask servers that return the static files generated by running ```flutter build web``` command. The server is then put into a docker container and deployed to Google Cloud Platform on Google Cloud Run.

### Query Layer
The query layer is considered seperate from the application layer because it exists as a level of abstraction that seperates the running web application from the services performing the actual business logic. In the context of the app, the "Room Renting Landlord Server" and the "Room Renting Tenant Server" only requests resources required for the given page the user navigated to. The resources are only ever queried through a gRPC stream through Firebase, a GraphQL request through the router service or a Socket.IO stream through the address service. Each service is not performing any business logic, only providing a convient way for the front end to interpret the data once an operation occurred. 

### Service Layer
In the service layer each service is a REST interface for resources that exist in the infrastructure layer. Each service provides Create, Read, Update and Delete opertions for their respective resources. This could also be thought of as a layer of abstraction for the underlying cloud infrastructure. Each service is logically seperated based on the resource it is resposible for and only performs operations for that resource.

### Infrastructure Layer
The infrastructure layer is where the IaaS cloud resources are. In the context of Room Renting this is two Compute Engine VMs; one running a MySQL container and the other a Redis container and a Google Kubernetes Engine Autopilot Cluster. 



